```plantuml

@startuml


```

```plantuml
@startuml

entity Ticket {
    * ticket_id: integer <<generated>> <<pk>>
    --
    * type: text
    * price: decimal(6, 2)
}

entity Order {
    * order_id: integer <<generated>> <<pk>>
    --
    * subtotal: decimal(6, 2)
    * tax: decimal(5, 2)
    * shipping_cost: decimal(4, 2)
    * total: decimal(6, 2)
    * payment_method: text
    --
    * customer_id: integer <<fk>>
}

entity order_ticket {
    * ticket_id: integer <<fk>>
    * order_id: integer <<fk>>
}

entity Customer {
    * customer_id: integer <<generated>> <<pk>>
    --
    * name: text
    * email: text
    * emergency contact: text
    --
    * address_id: integer <<fk>>
}

entity Staff {
    * staff_id: integer <<generated>> <<pk>>
    --
    * name: text
    * email: text
    * role: text
    hourly pay: decimal(5, 2)
    --
    * address_id: integer <<fk>>
    ticket_id: integer <<fk>>
}

entity Stage {
    * stage_id: integer <<generated>> <<pk>>
    --
    * name: text
    * size: text
    genre: text
    --
    location_id: integer <<fk>>
}

entity Vendor {
    * vendor_id: integer <<generated>> <<pk>>
    --
    * name: text
    type: text
}

entity Address {
    * address_id: integer <<generated>> <<pk>>
    --
    * address_line1: text
    address_line2: text
    * postal code: text
    * phone
    --
    * city_id: integer <<fk>>
}

entity Country {
    * country_id: integer <<generated>> <<pk>>
    --
    * country: text
}

entity City {
    * city_id: integer <<generated>> <<pk>>
    --
    * city: text
    --
    * country_id: integer <<fk>>
}

entity Location {
    * location_id: integer <<generated>> <<pk>>
    --
    * latitude: integer
    * longitude: integer
}

entity Amenity {
    * amenity_id <<generated>> <<pk>>
    --
    * type: text
    --
    * location_id: integer <<fk>>
}

entity amenity_location {
    * amenity_id: integer <<fk>>
    * location_id: integer <<fk>>
}

entity vendor_location {
    * vendor_id: integer <<fk>>
    * location_id: integer <<fk>>
}

entity Set {
    * set_id: integer <<generated>> <<pk>>
    --
    * start_time: time <<default 13:00>>
    --
    * stage_id: integer <<fk>>
}

entity Artist {
    * artist_id: integer <<generated>> <<pk>>
    --
    * name: text
    stage_name: text
    * email: text
    --
    * address_id: integer <<fk>>
    * ticket_id: integer <<fk>>
}

entity artist_set {
    * artist_id: integer <<fk>>
    * set_id: integer <<fk>>
}

entity Production {
    * prod_id: integer <<generated>> <<pk>>
    --
    * type: text
    description: text
    model: text
}

entity stage_production {
    * stage_id: integer <<fk>>
    * prod_id: integer <<fk>>
}

Order "1" - "  1..*" order_ticket
order_ticket "*" - "1" Ticket
Order "1..*" -- "1" Customer: < places an
'Order -- "*" Ticket
'Ticket "1..*" -- "1" Customer: buys <
Ticket "1" -- "*" Artist: has <
Ticket "0..1" -- "*" Staff: has <
'Stage "1..*" -- "1..*" Artist: performs at <
Location "1  " -- "*" Stage
'Location "1..*" -- "*" Vendor
'Location "1..*" -- "*" Amenity
Artist "*" -- "1" Address
Staff "*" -- "1" Address
Customer "*" -- "1" Address
City "1" -- "*" Address
City "*" -- "1" Country: is in >
Set "*" -- "1  " Stage: performed at >
'Set "*" -- "*" Artist
artist_set "*" -- "1" Artist
artist_set "1..*" -- "1" Set
Vendor "1  " -- "1..*" vendor_location
Location "  1" -- "*" vendor_location
amenity_location "1..* " -- "1" Amenity
amenity_location "*" -- "1" Location
Stage "1" -- "*" stage_production
stage_production "*" -- "1" Production

@enduml
```